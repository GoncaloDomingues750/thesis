{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const[ids,setIds]=useState('');const[result,setResult]=useState(null);const navigate=useNavigate();const{setToken}=useAuth();const token=localStorage.getItem('token');const handleSubmit=async()=>{const response=await fetch('http://localhost:8000/api/predict',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({ids:ids.split(',').map(id=>id.trim())})});const data=await response.json();setResult(data);};const logout=()=>{setToken(null);navigate('/login',{replace:true});};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto bg-white p-6 rounded shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Submit PDB IDs\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"text-sm text-red-500\",children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:ids,onChange:e=>setIds(e.target.value),placeholder:\"Enter comma-separated PDB IDs\",className:\"block w-full border p-2 mb-4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"bg-green-500 text-white px-4 py-2 rounded\",children:\"Predict\"}),result&&/*#__PURE__*/_jsx(\"pre\",{className:\"mt-4 bg-gray-100 p-4 rounded overflow-x-auto\",children:JSON.stringify(result,null,2)})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Dashboard","ids","setIds","result","setResult","navigate","setToken","token","localStorage","getItem","handleSubmit","response","fetch","method","headers","Authorization","concat","body","JSON","stringify","split","map","id","trim","data","json","logout","replace","className","children","onClick","type","value","onChange","e","target","placeholder"],"sources":["C:/Users/GonÃ§alo Domingues/Documents/Tese/Project/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../AuthContext';\r\n\r\n\r\nfunction Dashboard() {\r\n  const [ids, setIds] = useState('');\r\n  const [result, setResult] = useState(null);\r\n  const navigate = useNavigate();\r\n  const { setToken } = useAuth();\r\n\r\n  const token = localStorage.getItem('token');\r\n\r\n  const handleSubmit = async () => {\r\n    const response = await fetch('http://localhost:8000/api/predict', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ ids: ids.split(',').map((id) => id.trim()) }),\r\n    });\r\n    const data = await response.json();\r\n    setResult(data);\r\n  };\r\n\r\n  const logout = () => {\r\n    setToken(null);\r\n    navigate('/login', { replace: true });\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto bg-white p-6 rounded shadow\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-bold\">Submit PDB IDs</h2>\r\n        <button onClick={logout} className=\"text-sm text-red-500\">Logout</button>\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        value={ids}\r\n        onChange={(e) => setIds(e.target.value)}\r\n        placeholder=\"Enter comma-separated PDB IDs\"\r\n        className=\"block w-full border p-2 mb-4\"\r\n      />\r\n      <button onClick={handleSubmit} className=\"bg-green-500 text-white px-4 py-2 rounded\">\r\n        Predict\r\n      </button>\r\n      {result && (\r\n        <pre className=\"mt-4 bg-gray-100 p-4 rounded overflow-x-auto\">\r\n          {JSON.stringify(result, null, 2)}\r\n        </pre>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGzC,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEY,QAAS,CAAC,CAAGX,OAAO,CAAC,CAAC,CAE9B,KAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,mCAAmC,CAAE,CAChEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAAC,MAAA,CAAYT,KAAK,CAChC,CAAC,CACDU,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAElB,GAAG,CAAEA,GAAG,CAACmB,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAEC,EAAE,EAAKA,EAAE,CAACC,IAAI,CAAC,CAAC,CAAE,CAAC,CACrE,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAb,QAAQ,CAACc,IAAI,CAAC,CAAC,CAClCrB,SAAS,CAACoB,IAAI,CAAC,CACjB,CAAC,CAED,KAAM,CAAAE,MAAM,CAAGA,CAAA,GAAM,CACnBpB,QAAQ,CAAC,IAAI,CAAC,CACdD,QAAQ,CAAC,QAAQ,CAAE,CAAEsB,OAAO,CAAE,IAAK,CAAC,CAAC,CACvC,CAAC,CAED,mBACE5B,KAAA,QAAK6B,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC5D9B,KAAA,QAAK6B,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDhC,IAAA,OAAI+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACrDhC,IAAA,WAAQiC,OAAO,CAAEJ,MAAO,CAACE,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EACtE,CAAC,cACNhC,IAAA,UACEkC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE/B,GAAI,CACXgC,QAAQ,CAAGC,CAAC,EAAKhC,MAAM,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACxCI,WAAW,CAAC,+BAA+B,CAC3CR,SAAS,CAAC,8BAA8B,CACzC,CAAC,cACF/B,IAAA,WAAQiC,OAAO,CAAEpB,YAAa,CAACkB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,SAErF,CAAQ,CAAC,CACR1B,MAAM,eACLN,IAAA,QAAK+B,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAC1DX,IAAI,CAACC,SAAS,CAAChB,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAC7B,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}